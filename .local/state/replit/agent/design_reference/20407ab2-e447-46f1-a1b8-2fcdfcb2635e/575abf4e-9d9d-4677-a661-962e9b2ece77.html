<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Codebase Time Machine - Repository Analysis Tool</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'github-blue': '#0969da',
                        'github-purple': '#6f42c1',
                        'github-bg': '#f6f8fa',
                        'github-text': '#24292f',
                        'github-border': '#d0d7de'
                    },
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif'],
                        'mono': ['JetBrains Mono', 'Consolas', 'monospace']
                    }
                }
            }
        };
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body class="bg-github-bg font-sans">
    <!-- @COMPONENT: AppHeader -->
    <header class="bg-white border-b border-github-border shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-4">
                    <i class="fas fa-code-branch text-2xl text-github-blue"></i>
                    <h1 class="text-xl font-semibold text-github-text">Codebase Time Machine</h1>
                </div>
                <nav class="hidden md:flex space-x-6">
                    <a href="#" class="text-github-text hover:text-github-blue font-medium">Dashboard</a>
                    <a href="#" class="text-gray-500 hover:text-github-blue">Repositories</a>
                    <a href="#" class="text-gray-500 hover:text-github-blue">Documentation</a>
                </nav>
                <button class="md:hidden p-2 rounded-md text-gray-500 hover:text-github-blue">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </header>
    <!-- @END_COMPONENT: AppHeader -->

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- @COMPONENT: RepoAnalysisContainer -->
        <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
            
            <!-- @COMPONENT: Sidebar -->
            <div class="lg:col-span-1">
                <div class="bg-white rounded-lg shadow-sm border border-github-border p-6 sticky top-8">
                    <h2 class="text-lg font-semibold text-github-text mb-4">Repository Analysis</h2>
                    
                    <!-- Repository Input Form -->
                    <div class="space-y-4 mb-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Repository URL</label>
                            <input 
                                type="url" 
                                placeholder="https://github.com/user/repo" 
                                class="w-full px-3 py-2 border border-github-border rounded-md focus:outline-none focus:ring-2 focus:ring-github-blue focus:border-transparent text-sm"
                                data-mock="true"
                            />
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Branch (optional)</label>
                            <input 
                                type="text" 
                                placeholder="main" 
                                class="w-full px-3 py-2 border border-github-border rounded-md focus:outline-none focus:ring-2 focus:ring-github-blue focus:border-transparent text-sm"
                                data-mock="true"
                            />
                        </div>
                        <button 
                            class="w-full bg-github-blue text-white px-4 py-2 rounded-md hover:bg-blue-700 font-medium text-sm transition-colors"
                            data-event="click:analyzeRepository"
                        >
                            <i class="fas fa-search mr-2"></i>Analyze Repository
                        </button>
                    </div>

                    <!-- Analysis Status -->
                    <!-- @STATE: analysisStatus:string = 'completed' -->
                    <div class="bg-green-50 border border-green-200 rounded-md p-3 mb-4" data-mock="true">
                        <div class="flex items-center">
                            <i class="fas fa-check-circle text-green-500 mr-2"></i>
                            <span class="text-sm text-green-700 font-medium">Analysis Complete</span>
                        </div>
                        <p class="text-xs text-green-600 mt-1" data-bind="repo.name">facebook/react analyzed successfully</p>
                    </div>

                    <!-- Quick Stats -->
                    <div class="space-y-3">
                        <div class="flex justify-between items-center text-sm">
                            <span class="text-gray-600">Total Commits</span>
                            <span class="font-medium text-github-text" data-bind="stats.totalCommits">15,247</span>
                        </div>
                        <div class="flex justify-between items-center text-sm">
                            <span class="text-gray-600">Contributors</span>
                            <span class="font-medium text-github-text" data-bind="stats.contributors">1,543</span>
                        </div>
                        <div class="flex justify-between items-center text-sm">
                            <span class="text-gray-600">Files Tracked</span>
                            <span class="font-medium text-github-text" data-bind="stats.filesTracked">2,891</span>
                        </div>
                        <div class="flex justify-between items-center text-sm">
                            <span class="text-gray-600">Analysis Duration</span>
                            <span class="font-medium text-github-text" data-bind="stats.duration">3m 42s</span>
                        </div>
                    </div>
                </div>
            </div>
            <!-- @END_COMPONENT: Sidebar -->

            <!-- @COMPONENT: MainContent -->
            <div class="lg:col-span-3">
                
                <!-- Navigation Tabs -->
                <div class="bg-white rounded-lg shadow-sm border border-github-border mb-6">
                    <div class="border-b border-github-border px-6 py-3">
                        <nav class="flex space-x-6">
                            <button class="text-github-blue border-b-2 border-github-blue pb-2 px-1 text-sm font-medium">
                                Timeline
                            </button>
                            <button class="text-gray-500 hover:text-github-blue pb-2 px-1 text-sm font-medium">
                                Q&A Assistant
                            </button>
                            <button class="text-gray-500 hover:text-github-blue pb-2 px-1 text-sm font-medium">
                                File Changes
                            </button>
                            <button class="text-gray-500 hover:text-github-blue pb-2 px-1 text-sm font-medium">
                                Contributors
                            </button>
                        </nav>
                    </div>

                    <!-- Timeline View -->
                    <div class="p-6">
                        <!-- Search and Filters -->
                        <div class="flex flex-col sm:flex-row gap-4 mb-6">
                            <div class="flex-1">
                                <div class="relative">
                                    <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                                    <input 
                                        type="text" 
                                        placeholder="Search commits by message, author, or SHA..." 
                                        class="w-full pl-10 pr-4 py-2 border border-github-border rounded-md focus:outline-none focus:ring-2 focus:ring-github-blue focus:border-transparent text-sm"
                                        data-mock="true"
                                    />
                                </div>
                            </div>
                            <div class="flex gap-2">
                                <select class="px-3 py-2 border border-github-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-github-blue">
                                    <option>All Authors</option>
                                    <option data-mock="true">Dan Abramov</option>
                                    <option data-mock="true">Sebastian Markbåge</option>
                                    <option data-mock="true">Andrew Clark</option>
                                </select>
                                <select class="px-3 py-2 border border-github-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-github-blue">
                                    <option>Last 30 days</option>
                                    <option>Last 90 days</option>
                                    <option>Last year</option>
                                    <option>All time</option>
                                </select>
                            </div>
                        </div>

                        <!-- Timeline Visualization -->
                        <div class="bg-gray-50 rounded-lg p-4 mb-6">
                            <h3 class="text-sm font-medium text-gray-700 mb-3">Commit Activity Timeline</h3>
                            <!-- @FUNCTIONALITY: This should implement a timeline chart showing commit frequency over time -->
                            <div class="h-32 bg-white rounded border border-gray-200 flex items-end justify-between p-2">
                                <!-- Sample timeline bars -->
                                <div class="bg-github-blue w-2 rounded-t" style="height: 20%;" data-mock="true"></div>
                                <div class="bg-github-blue w-2 rounded-t" style="height: 45%;" data-mock="true"></div>
                                <div class="bg-github-blue w-2 rounded-t" style="height: 30%;" data-mock="true"></div>
                                <div class="bg-github-blue w-2 rounded-t" style="height: 75%;" data-mock="true"></div>
                                <div class="bg-github-blue w-2 rounded-t" style="height: 60%;" data-mock="true"></div>
                                <div class="bg-github-blue w-2 rounded-t" style="height: 85%;" data-mock="true"></div>
                                <div class="bg-github-blue w-2 rounded-t" style="height: 40%;" data-mock="true"></div>
                                <div class="bg-github-blue w-2 rounded-t" style="height: 90%;" data-mock="true"></div>
                                <div class="bg-github-blue w-2 rounded-t" style="height: 55%;" data-mock="true"></div>
                                <div class="bg-github-blue w-2 rounded-t" style="height: 35%;" data-mock="true"></div>
                            </div>
                            <div class="flex justify-between text-xs text-gray-500 mt-2">
                                <span data-mock="true">Jan 2024</span>
                                <span data-mock="true">Mar 2024</span>
                                <span data-mock="true">May 2024</span>
                                <span data-mock="true">Jul 2024</span>
                                <span data-mock="true">Sep 2024</span>
                                <span data-mock="true">Nov 2024</span>
                            </div>
                        </div>

                        <!-- Commit List -->
                        <div class="space-y-4">
                            <!-- @MAP: commits.map(commit => ( -->
                            <div class="border border-github-border rounded-lg p-4 hover:bg-gray-50 transition-colors cursor-pointer" data-mock="true">
                                <div class="flex items-start justify-between">
                                    <div class="flex-1">
                                        <div class="flex items-center space-x-3 mb-2">
                                            <span class="text-sm font-mono text-github-blue bg-blue-50 px-2 py-1 rounded" data-bind="commit.shortSha">a4b3c2d</span>
                                            <span class="text-sm text-gray-500" data-bind="commit.timestamp">2 hours ago</span>
                                            <span class="text-sm text-gray-600" data-bind="commit.author">Dan Abramov</span>
                                        </div>
                                        <h4 class="text-sm font-medium text-github-text mb-2" data-bind="commit.message">
                                            feat: Add React Server Components support
                                        </h4>
                                        <div class="flex items-center space-x-4 text-xs text-gray-500">
                                            <span class="flex items-center">
                                                <i class="fas fa-plus text-green-500 mr-1"></i>
                                                <span data-bind="commit.additions">+127</span>
                                            </span>
                                            <span class="flex items-center">
                                                <i class="fas fa-minus text-red-500 mr-1"></i>
                                                <span data-bind="commit.deletions">-43</span>
                                            </span>
                                            <span data-bind="commit.filesChanged">8 files changed</span>
                                        </div>
                                    </div>
                                    <button class="text-gray-400 hover:text-github-blue">
                                        <i class="fas fa-chevron-right"></i>
                                    </button>
                                </div>

                                <!-- Expandable diff preview -->
                                <div class="mt-3 pt-3 border-t border-gray-200 hidden" data-implementation="Expandable on click">
                                    <div class="bg-gray-50 rounded-md p-3 font-mono text-sm">
                                        <div class="text-gray-600 mb-2">src/ReactServerComponents.js</div>
                                        <div class="space-y-1">
                                            <div class="text-green-600" data-mock="true">+ export function renderToReadableStream(element) {</div>
                                            <div class="text-green-600" data-mock="true">+   return new ReadableStream({</div>
                                            <div class="text-green-600" data-mock="true">+     start(controller) {</div>
                                            <div class="text-red-500" data-mock="true">- export function renderToString(element) {</div>
                                            <div class="text-red-500" data-mock="true">-   return ReactDOMServer.renderToString(element);</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="border border-github-border rounded-lg p-4 hover:bg-gray-50 transition-colors cursor-pointer" data-mock="true">
                                <div class="flex items-start justify-between">
                                    <div class="flex-1">
                                        <div class="flex items-center space-x-3 mb-2">
                                            <span class="text-sm font-mono text-github-blue bg-blue-50 px-2 py-1 rounded" data-bind="commit.shortSha">f7e6d5c</span>
                                            <span class="text-sm text-gray-500" data-bind="commit.timestamp">1 day ago</span>
                                            <span class="text-sm text-gray-600" data-bind="commit.author">Sebastian Markbåge</span>
                                        </div>
                                        <h4 class="text-sm font-medium text-github-text mb-2" data-bind="commit.message">
                                            fix: Resolve hydration mismatch in Suspense boundaries
                                        </h4>
                                        <div class="flex items-center space-x-4 text-xs text-gray-500">
                                            <span class="flex items-center">
                                                <i class="fas fa-plus text-green-500 mr-1"></i>
                                                <span data-bind="commit.additions">+89</span>
                                            </span>
                                            <span class="flex items-center">
                                                <i class="fas fa-minus text-red-500 mr-1"></i>
                                                <span data-bind="commit.deletions">-12</span>
                                            </span>
                                            <span data-bind="commit.filesChanged">3 files changed</span>
                                        </div>
                                    </div>
                                    <button class="text-gray-400 hover:text-github-blue">
                                        <i class="fas fa-chevron-right"></i>
                                    </button>
                                </div>
                            </div>

                            <div class="border border-github-border rounded-lg p-4 hover:bg-gray-50 transition-colors cursor-pointer" data-mock="true">
                                <div class="flex items-start justify-between">
                                    <div class="flex-1">
                                        <div class="flex items-center space-x-3 mb-2">
                                            <span class="text-sm font-mono text-github-blue bg-blue-50 px-2 py-1 rounded" data-bind="commit.shortSha">c8d9e4a</span>
                                            <span class="text-sm text-gray-500" data-bind="commit.timestamp">3 days ago</span>
                                            <span class="text-sm text-gray-600" data-bind="commit.author">Andrew Clark</span>
                                        </div>
                                        <h4 class="text-sm font-medium text-github-text mb-2" data-bind="commit.message">
                                            refactor: Simplify useEffect cleanup logic
                                        </h4>
                                        <div class="flex items-center space-x-4 text-xs text-gray-500">
                                            <span class="flex items-center">
                                                <i class="fas fa-plus text-green-500 mr-1"></i>
                                                <span data-bind="commit.additions">+156</span>
                                            </span>
                                            <span class="flex items-center">
                                                <i class="fas fa-minus text-red-500 mr-1"></i>
                                                <span data-bind="commit.deletions">-203</span>
                                            </span>
                                            <span data-bind="commit.filesChanged">12 files changed</span>
                                        </div>
                                    </div>
                                    <button class="text-gray-400 hover:text-github-blue">
                                        <i class="fas fa-chevron-right"></i>
                                    </button>
                                </div>
                            </div>
                            <!-- @END_MAP )) -->
                        </div>

                        <!-- Load More Button -->
                        <div class="mt-6 text-center">
                            <button class="px-6 py-2 border border-github-border rounded-md text-sm font-medium text-github-text hover:bg-gray-50 transition-colors">
                                Load More Commits
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Q&A Assistant Panel (Hidden by default) -->
                <div class="bg-white rounded-lg shadow-sm border border-github-border mb-6 hidden" data-implementation="Show when Q&A tab is active">
                    <div class="border-b border-github-border px-6 py-4">
                        <h3 class="text-lg font-semibold text-github-text">Ask about this repository</h3>
                        <p class="text-sm text-gray-600 mt-1">Get insights about code evolution, feature development, and architectural decisions.</p>
                    </div>
                    
                    <div class="p-6">
                        <!-- Chat Interface -->
                        <div class="space-y-4 mb-6 max-h-96 overflow-y-auto">
                            <!-- Sample Q&A -->
                            <div class="flex justify-end" data-mock="true">
                                <div class="bg-github-blue text-white rounded-lg px-4 py-2 max-w-md">
                                    <p class="text-sm">How did the authentication system evolve in this project?</p>
                                </div>
                            </div>
                            
                            <div class="flex justify-start" data-mock="true">
                                <div class="bg-gray-100 rounded-lg px-4 py-2 max-w-md">
                                    <p class="text-sm text-github-text">The authentication system went through 3 major iterations:</p>
                                    <ul class="text-sm text-github-text mt-2 space-y-1">
                                        <li>• <strong>Phase 1 (commits a4b3c2d - f7e6d5c):</strong> Basic JWT implementation</li>
                                        <li>• <strong>Phase 2 (commits c8d9e4a - b5f2a8c):</strong> OAuth2 integration added</li>
                                        <li>• <strong>Phase 3 (commits d1e4f7g - h2j5k8l):</strong> Multi-factor authentication support</li>
                                    </ul>
                                    <div class="mt-3 text-xs text-gray-500">
                                        <span>Referenced commits: </span>
                                        <span class="font-mono">a4b3c2d, f7e6d5c, c8d9e4a, b5f2a8c, d1e4f7g, h2j5k8l</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Input Form -->
                        <div class="flex gap-3">
                            <input 
                                type="text" 
                                placeholder="Ask a question about this repository..." 
                                class="flex-1 px-4 py-2 border border-github-border rounded-md focus:outline-none focus:ring-2 focus:ring-github-blue focus:border-transparent text-sm"
                                data-mock="true"
                            />
                            <button class="bg-github-blue text-white px-4 py-2 rounded-md hover:bg-blue-700 font-medium text-sm transition-colors">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>

                        <!-- Quick Questions -->
                        <div class="mt-4">
                            <p class="text-sm text-gray-600 mb-2">Quick questions:</p>
                            <div class="flex flex-wrap gap-2">
                                <button class="text-xs bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-full text-github-text transition-colors">
                                    Show me the largest refactoring
                                </button>
                                <button class="text-xs bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-full text-github-text transition-colors">
                                    Who are the main contributors?
                                </button>
                                <button class="text-xs bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-full text-github-text transition-colors">
                                    When was testing introduced?
                                </button>
                                <button class="text-xs bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-full text-github-text transition-colors">
                                    Show breaking changes
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- File Changes View (Hidden by default) -->
                <div class="bg-white rounded-lg shadow-sm border border-github-border hidden" data-implementation="Show when File Changes tab is active">
                    <div class="border-b border-github-border px-6 py-4">
                        <h3 class="text-lg font-semibold text-github-text">File Change Analysis</h3>
                        <p class="text-sm text-gray-600 mt-1">Track how files have evolved over time.</p>
                    </div>
                    
                    <div class="p-6">
                        <!-- File tree with change indicators -->
                        <div class="space-y-2" data-mock="true">
                            <div class="flex items-center justify-between p-3 hover:bg-gray-50 rounded-md cursor-pointer">
                                <div class="flex items-center space-x-3">
                                    <i class="fas fa-folder text-github-blue"></i>
                                    <span class="text-sm font-medium">src/</span>
                                </div>
                                <div class="flex items-center space-x-2 text-xs">
                                    <span class="bg-green-100 text-green-700 px-2 py-1 rounded">+2,145</span>
                                    <span class="bg-red-100 text-red-700 px-2 py-1 rounded">-987</span>
                                </div>
                            </div>
                            <div class="flex items-center justify-between p-3 hover:bg-gray-50 rounded-md cursor-pointer ml-4">
                                <div class="flex items-center space-x-3">
                                    <i class="fas fa-file-code text-gray-500"></i>
                                    <span class="text-sm">ReactServerComponents.js</span>
                                </div>
                                <div class="flex items-center space-x-2 text-xs">
                                    <span class="bg-green-100 text-green-700 px-2 py-1 rounded">+456</span>
                                    <span class="bg-red-100 text-red-700 px-2 py-1 rounded">-123</span>
                                    <span class="text-gray-500">87 commits</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <!-- @END_COMPONENT: MainContent -->
        </div>
        <!-- @END_COMPONENT: RepoAnalysisContainer -->
    </div>

    <script>
        // TODO: Implement business logic, API calls, and state management
        (function() {
            // Demo interaction for expanding commit details
            // In production, this would be handled by React state management
            const commitCards = document.querySelectorAll('[data-mock="true"]');
            
            // Placeholder for actual functionality
            console.log('Codebase Time Machine - Ready for implementation');
        })();
    </script>
</body>
</html>